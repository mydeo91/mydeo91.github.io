{"meta":{"title":"들리시나요","subtitle":"제 목소리가 들리시나요?","description":"개인블로그","author":"Ethan Lee","url":"https://mydeo91.github.io","root":"/"},"pages":[],"posts":[{"title":"[EXPO] Google 로그인 과정에서 로그인 이후 google.com 으로 리디렉션 되는 문제","slug":"Expo-Google-로그인-과정에서-로그인-이후-google-com-으로-리디렉션-되는-문제","date":"2019-09-19T08:06:08.000Z","updated":"2019-09-19T08:29:23.529Z","comments":true,"path":"2019/09/19/Expo-Google-로그인-과정에서-로그인-이후-google-com-으로-리디렉션-되는-문제/","link":"","permalink":"https://mydeo91.github.io/2019/09/19/Expo-Google-로그인-과정에서-로그인-이후-google-com-으로-리디렉션-되는-문제/","excerpt":"","text":"친절하지 못한 업데이트로 인한 에러는 해결해도 뭔가 시원하지 않다. 여전히 찜-찜하다. 문제 확실히 잘 모르겠다. 내가 이해한 바로는 Expo SDK 32 부터 이런 문제가 있는 거 같은데, 깃허브에 이미 이슈로 등록되어있고 고쳐주길 기다리는 사람과, 급해서 자기가 알아보고 의견을 제시하는 두 부류의 사람들이 참여 중이었다. 서비스 업데이트 하는데 갑자기 로그인이 말썽이면 얼마나 서글플까 싶다. Expo SDK 31버전 이후부터 구글 로그인에 필요한 설정파일 (googleServiceConfig)에 redirectUrl 이라는 항목이 생겼다. 그래서 기존 설정파일로는 이 경로를 세팅할 수 없었고 기본값으로 google.com이 지정이 된다. 이로 인해 await Google.logInAsync(googleServiceConfig) 이 부분이 pending 되고 사용자들은 멀뚱히 구글의 메인페이지만 보게 된다. 뭐 어쩌라는거지. 여봐요 로그인이 안되요. 해결 expo install expo-app-auth 업데이트 된 expo-cli에서는 expo 관련 모듈 설치를 편하게 할 수 있도록 expo install 을 통해 가능하도록 해주었다. googleServiceConfig파일 주입 123456789101112// signInScreen.js...import * as AppAuth from 'expo-app-auth';...const googleServiceConfig = &#123; ... redirectUrl:`$&#123;AppAuth.OAuthRedirect&#125;:/oauth2redirect/google`&#125;...await Google.logInAsync(googleServiceConfig); expo-app-auth 라이브러리에서 제공하는 AppAuth를 통해서 디바이스의 id값(com.company.somewhere)을 포함하는 리디렉션 주소를 명시함으로서 구글 로그인 이후 google.com 이 아닌 앱 내부로 돌아오게 해준다. 참조 https://github.com/expo/expo/issues/4655#issuecomment-510081708 https://github.com/expo/expo/pull/4671#issue-290264117","categories":[{"name":"Programming","slug":"Programming","permalink":"https://mydeo91.github.io/categories/Programming/"},{"name":"Expo","slug":"Programming/Expo","permalink":"https://mydeo91.github.io/categories/Programming/Expo/"}],"tags":[{"name":"Expo","slug":"Expo","permalink":"https://mydeo91.github.io/tags/Expo/"}]},{"title":"[EXPO] 안드로이드 배포 시 'The releases is not compliant with the Google Play 64-bit requirement' 에러","slug":"EXPO-안드로이드-배포-시-The-releases-is-not-compliant-with-the-Google-Play-64-bit-requirement-에러","date":"2019-09-19T02:49:19.000Z","updated":"2019-09-19T06:46:43.401Z","comments":true,"path":"2019/09/19/EXPO-안드로이드-배포-시-The-releases-is-not-compliant-with-the-Google-Play-64-bit-requirement-에러/","link":"","permalink":"https://mydeo91.github.io/2019/09/19/EXPO-안드로이드-배포-시-The-releases-is-not-compliant-with-the-Google-Play-64-bit-requirement-에러/","excerpt":"","text":"현재 환경 &quot;expo&quot; : &quot;31.0.4&quot; &quot;react&quot; : &quot;16.5.0&quot; &quot;firebase&quot; : &quot;^4.12.1&quot; 문제 expo build:android 를 통해서 빌드한 apk 파일을 구글플레이에 배포하려고 하는데 구글 콘솔에서 다음과 같은 에러가 발생한다. 문제의 요점은 구글이 지난 8월을 기점으로 배포 정책을 업데이트 했는데 배포되는 어플리케이션은 64-bit 요구사항을 충족해야 배포가 가능하게 되었다. 자세한 내용은 여기 를 통해서 확인하시길. ExpoSDK 31 에서는 빌드되는 apk 파일이 64-bit이 아닌 32-bit만 지원한다. 그래서 Expo 측에서 이러한 이슈를 대응하기 위해서 33버전에 64-bit를 지원하도록 반영했다. https://github.com/expo/expo/pull/4565 ExpoSDK 31 버전을 33으로 올리면 된다. 무척이나 간단하다! 인 줄 알았는데 더 큰 문제가 있었다. ExpoSDK 31 에 맞게 사용하던 디펜던시들이 33으로 버전 업되면서 엉키기 시작한다. 예를 들어 &quot;react-native&quot; : &quot;~~expo/react-native/archive/sdk-31.0.0.tar.gz&quot; 라던지, expo 를 기반으로 하는 디펜던시들이 꼬인다. 모듈 import 과정에서도 에러가 난다. 알고 보니 업데이트 하면서 import 하는 모냥새를 바꿔버렸다. 해결 package.json 에서 &quot;expo&quot; : &quot;^33.0.0&quot; app.json 에서 &quot;sdkVersion&quot; : &quot;33.0.0&quot; watchman watch-del-all &amp;&amp; rm -rf node_modules &amp;&amp; rm -rf package-lock.json &amp;&amp; npm cache clean --force &amp;&amp; npm install 불필요하게 남아있는 캐시데이터 때문에 엉킴으로 고생하지 말자. 이렇게 하면 이런 저런 디펜던시들이 충돌이 나면서 설치가 안된다. 에러 로그를 보면서 한땀한땀 고쳐야한다. 이 부분이 가장 고생이다. 각자 사용하는 모듈들이 다르기 때문에 이 부분은 스스로 잘 해결되길 바랄 수 밖에… 다 되었으면 npm run start --reset-cache","categories":[{"name":"Programming","slug":"Programming","permalink":"https://mydeo91.github.io/categories/Programming/"},{"name":"Expo","slug":"Programming/Expo","permalink":"https://mydeo91.github.io/categories/Programming/Expo/"}],"tags":[{"name":"Expo","slug":"Expo","permalink":"https://mydeo91.github.io/tags/Expo/"}]},{"title":"[REACT-ERR] npm run start 시 Cannot find module 'typescript' 혹은 code ELIFECYCLE","slug":"REACT-ERR-npm-run-start-시-Cannot-find-module-typescript-혹은-code-ELIFECYCLE","date":"2019-08-29T14:31:09.000Z","updated":"2019-09-19T08:23:16.692Z","comments":true,"path":"2019/08/29/REACT-ERR-npm-run-start-시-Cannot-find-module-typescript-혹은-code-ELIFECYCLE/","link":"","permalink":"https://mydeo91.github.io/2019/08/29/REACT-ERR-npm-run-start-시-Cannot-find-module-typescript-혹은-code-ELIFECYCLE/","excerpt":"","text":"그저 나는 vscode에서 mobx의 decorator를 사용하고 싶을 뿐이었어… 미안해 상황 mobx 의 decorator로 깔-끔한 개발코드를 만들어보자 로 시작했다. 깔끔했지만 vscode에선 기분 나쁜 warning*(이라 쓰고 밑줄이 거슬림)*을 토해낸다. 그렇게 이런 꺼림직한 warning을 없애기 위해서 root 경로에 tsconfig.json 파일을 만들었고, 거기에 무슨 의미인지도 모르는 다음과 같이 파일 설정을 넣었다. 1234567// tsconfig.json&#123; \"compilerOptions\": &#123; \"experimentalDecorators\": true, \"allowJs\": true &#125;&#125; 문제 npm run start 123456720 error code ELIFECYCLE21 error errno 122 error mySideProject@0.1.0 start: `node scripts/start.js`22 error Exit status 123 error Failed at the mySideProject@0.1.0 start script.23 error This is probably not a problem with npm. There is likely additional logging output above.24 verbose exit [ 1, true ] 저 놈의 ELIFECYCLE 은 정말 꼴보기 싫다. 참 친절하지 못한 코드다. npm 관련 에러인데 설명하기 귀찮아서 저 코드를 던지는 것 같다. 알아서 찾아보라고, 결국 내가 스스로 찾아야한다. 시도 npm cache clean --force &amp;&amp; npm install rm -rf node_modules &amp;&amp; rm package-lock.json &amp;&amp; npm install npm install typescript 해결 결국은 typescript 모듈이 없었기 때문에 생기는 문제였다. 나는 안쓰는데? 싶어서 확인해보니 vscode 설정으로 해두었던 tsconfig.json 파일이 유일하게 관련된 파일이었다. rm tsconfig.json &amp;&amp; npm install &amp;&amp; npm run start 매우 잘 된다… 잠깐만, decorator 쓰자고 추가한 파일을 에러 잡는다고 지우면 무슨 의미지? 그렇게 생각한 모두를 위해 다음 파일을 같은 내용으로 만들어보자. 1234567// jsconfig.json&#123; \"compilerOptions\": &#123; \"experimentalDecorators\": true, \"allowJs\": true &#125;&#125; 혹여나 지친 몸을 이끌고 사이드 플젝을 하고 계신 분들에게 조그마한 도움이 되었으면 좋겠다.","categories":[{"name":"Programming","slug":"Programming","permalink":"https://mydeo91.github.io/categories/Programming/"},{"name":"React","slug":"Programming/React","permalink":"https://mydeo91.github.io/categories/Programming/React/"}],"tags":[{"name":"React","slug":"React","permalink":"https://mydeo91.github.io/tags/React/"}]},{"title":"반갑습니다","slug":"반갑습니다","date":"2019-08-22T12:51:23.000Z","updated":"2019-08-29T15:39:19.275Z","comments":true,"path":"2019/08/22/반갑습니다/","link":"","permalink":"https://mydeo91.github.io/2019/08/22/반갑습니다/","excerpt":"","text":"이렇게 찾아 읽어주셔서 감사합니다. 제 소개를 간단하게 할게요. 저는 이은호입니다. 저는 국내 스타트업 회사에서 홀로 고독하게 개발을 하고 있습니다. 2년 전에 제 20대를 전부 함께 했던 여자와 결혼을 해서 지금은 결혼 3년차입니다. 저희 집에는 아내와 저, 그리고 고양이 두마리, 그리고 처제와 제 여동생(다음 달에 들어옵니다.) 이렇게 6식구가 살고 있습니다. 처제와 제 동생은 서로 친구에요. 결혼하기 전부터 넷이서 여행을 다녔는데 지금은 같이 살게되었네요. 아내는 6년간 일하던 직장을 그만두고, 하고 싶은 일 찾아 여러 시도를 하다가 결국 저와 함께 개발을 하려고 학원을 다니는 중입니다. 늦은 시간에도 학원에서 공부하다가 돌아와요. 처제는 얼마전에 개발자로 취직했어요. 제 동생은 개발을 배울 학원을 알아보는 중이에요. 넷이서 개발하면 참 재밌을 것 같아요. 저는 예수님을 믿는 크리스쳔입니다. 얼마 전부터 교회를 다닌다고 말하지 않고 있어요. 교회를 다닌다고 해서 예수님을 믿는 건 아니더라구요. 예수님을 믿는 사람이라고 말하려고 합니다. 지금 열심히 사는 것은, 혹은 노력하는 것은 제가 믿는 예수님을 여러분들께 아름답게 비추기 위해서에요. 어떻게 살아왔나요 평범하게 시키는거 대충하면서 살았어요. 그러다가 ROTC로 군대에 갔고 남들과 똑같이 몸고생, 맘고생하다가 보니 생각없이 시간이 흘러갔고, 전역을 할 때가 되어서야 세상이 보이더라구요. 남들과 똑같이 준비를 하는데 너무 재미가 없었어요. 그래서 하는 둥 마는둥 아무 준비를 하지 못했어요. 자연스럽게 패배자가 되었습니다. 각종 SNS에는 입사한 동기들의 사진과 축하해주는 사람들의 댓글이 수두룩했고, 온 세상의 사람들은 저마다 자기 직장을 찾아 가는 것 같아보였어요. 심지어 유치원 친구들도 아침에는 자기 갈 곳이 있더라구요. 몇달 집에서 막막하게 누워있었습니다. 그래서 그냥 눈 딱 감고 내가 생각한대로 움직이기로 했습니다. 좋은 기회가 되어서 좋은 사람들과 여러가지 일들을 해볼 수 있었어요. 그러면서 나는 어떤 사람인가를 조금씩 알게되었어요. 여러 시험 중, 가장 마지막 시험이 개발이었어요. 학원을 다니면서 원없이 즐거울 수 있고, 오랫동안 재미있게 할 수 있겠다는 생각이 들어서 그 길로 바로 개발을 시작했어요. 앞으로 어떻게 살고 싶으세요 대기업 취직한 친구들을 보면서 너무 부러웠어요. 헛짓거리 그만하고 공부해서 대기업 오라는 친구도 있었어요. 그때마다 늘 자신에게 내 안에 가치를 쌓자 라는 주문을 중얼거렸어요. 내 자신이 어느 회사로 대표되는 것도 싫고, 연봉, 좋은 차, 좋은 집으로 대표되는 것도 싫어요. 좋은 기운이 느껴지는 사람, 겉만 번지르르한게 아니라 속으로 가치를 발휘하는 사람이 되고 싶어요. 어떤 것으로도 대표되지 못하는 고귀한 가치로 남들에게 자랑하고 싶어요. 그게 혼자만의 만족이 아닌 모두의 자랑이 되고 싶습니다.","categories":[{"name":"Blog","slug":"Blog","permalink":"https://mydeo91.github.io/categories/Blog/"},{"name":"Diary","slug":"Blog/Diary","permalink":"https://mydeo91.github.io/categories/Blog/Diary/"}],"tags":[{"name":"소개","slug":"소개","permalink":"https://mydeo91.github.io/tags/소개/"}]},{"title":"시작을 알립니다.","slug":"시작을-알립니다","date":"2019-08-20T15:17:55.000Z","updated":"2019-08-29T15:39:08.046Z","comments":true,"path":"2019/08/21/시작을-알립니다/","link":"","permalink":"https://mydeo91.github.io/2019/08/21/시작을-알립니다/","excerpt":"","text":"시작이 반이다. 반이나 와버렸네? 몇 달전에 야심차게 시작했다가 글 올리는데에 대한 게으름과 기술에 대한 이해도가 떨어지는 탓에 아무것도 하지 못했던 블로그를 시작하려고 합니다. 들어주는이, 반응해주는 이 없지만 혼자라도 주저리 주저리 떠들어보려고 합니다. 주저리 주저리 끈기있게 저의 성장 기록으로 채우는 것을 지켜봐주세요.","categories":[{"name":"Blog","slug":"Blog","permalink":"https://mydeo91.github.io/categories/Blog/"},{"name":"Diary","slug":"Blog/Diary","permalink":"https://mydeo91.github.io/categories/Blog/Diary/"}],"tags":[{"name":"시작","slug":"시작","permalink":"https://mydeo91.github.io/tags/시작/"}]}]}